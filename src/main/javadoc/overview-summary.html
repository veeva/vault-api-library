<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_341) on Wed Apr 19 11:16:00 EDT 2023 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Overview (Vault-API-Library 23.2.1 API)</title>
<meta name="date" content="2023-04-19">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Overview (Vault-API-Library 23.2.1 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">Vault-API-Library 23.2.1 API</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">VAPIL Introduction and Getting Started Guide</div>
</div>
<p>See: <a href="#overview.description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="com/veeva/vault/vapil/api/client/package-summary.html">com.veeva.vault.vapil.api.client</a></td>
<td class="colLast">
<div class="block">HTTPS Client for the Vault API</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/veeva/vault/vapil/api/model/package-summary.html">com.veeva.vault.vapil.api.model</a></td>
<td class="colLast">
<div class="block">Models for all responses, metadata, and data</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/veeva/vault/vapil/api/model/builder/package-summary.html">com.veeva.vault.vapil.api.model.builder</a></td>
<td class="colLast">
<div class="block">Builder pattern to create models</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/veeva/vault/vapil/api/model/common/package-summary.html">com.veeva.vault.vapil.api.model.common</a></td>
<td class="colLast">
<div class="block">Models for Vault data such as documents, object records, users, and groups</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/veeva/vault/vapil/api/model/metadata/package-summary.html">com.veeva.vault.vapil.api.model.metadata</a></td>
<td class="colLast">
<div class="block">Models for Vault metadata such as Vault Objects, Vault Object Fields, and Document Fields</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/veeva/vault/vapil/api/model/response/package-summary.html">com.veeva.vault.vapil.api.model.response</a></td>
<td class="colLast">
<div class="block">Models for Vault API responses</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="com/veeva/vault/vapil/api/request/package-summary.html">com.veeva.vault.vapil.api.request</a></td>
<td class="colLast">
<div class="block">Methods to perform Vault API calls, with each method mapping to a Vault API endpoint</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="com/veeva/vault/vapil/connector/package-summary.html">com.veeva.vault.vapil.connector</a></td>
<td class="colLast">
<div class="block">Generic connector methods for Vault API</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer"><a name="overview.description">
<!--   -->
</a>
<div class="block"><h1>VAPIL Introduction and Getting Started Guide</h1>

<h1>Introduction</h1>
The Vault API Library (VAPIL) is an open-source Java library for the Vault REST API.
VAPIL provides full API endpoint coverage for Vault integrations.
<p>
<p>
        The VAPIL release cycle follows the Vault API release cycle, with three general releases a year.
        Each VAPIL release aligns with the features of the Vault API release for consistency and coverage.
<ul>
        <li>Vault API version v21.1 is released, VAPIL version v21.1.0 is released</li>
        <li>When defects are fixed, VAPIL version v21.1.1, v21.1.2, etc will be released</li>
        <li>Vault API version v21.2 is released, VAPIL version v21.2.0 is released</li>
</ul>
<b>Consistent integration solution with Vault API requests/responses</b>
<ul>
        <li>One solution to develop and support</li>
        <li>Consistent development patterns that are similar the Vault Java SDK</li>
        <li>Full coverage of all platform API endpoints</li>
        <li>Expose API requests/responses in clearly defined Java classes, getters, setters, and methods</li>
</ul>
<b>Dedication to documentation, available in <a
                href="https://veeva.github.io/vault-api-library/javadoc/23.2.1/index.html" target="_blank">Javadoc</a></b>
<ul>
        <li>Easily find API endpoints from Vault help webpage in the source or Javadoc</li>
        <li>One-to-one alignment between VAPIL methods and the Vault API endpoint/documentation</li>
</ul>
<b>Developer friendly</b>
<ul>
        <li>Easy to start, quick to build</li>
        <li>Allow integration developer full control of design/implementation decisions, processing rules, exception
                handling</li>
</ul>
<b>Developer Ownership</b>
<p>
        VAPIL developers are responsible for:
<ul>
        <li>Following integration best practices with Vault and related systems</li>
        <li>Using bulk and batch processes whenever possible</li>
        <li>Respecting API authentication and burst limits</li>
        <li>Exception handling</li>
</ul>
<h1>Support and Issue Tracking</h1>
Enhancements, Issues, and documentation update requests can be reported via the <a
                href="https://veevaconnect.com/communities/ATeJ3k8lgAA/about?join=1" target="_blank">Vault for Developers</a> community on Veeva Connect
<h1>Source Code</h1>
Source code is available on GitHub: <a
                href="https://github.com/veeva/vault-api-library" target="_blank">Vault API Library</a>

<h1>Getting Started - Hello World</h1>
<ol>
        <li>Import VAPIL to a Maven project by adding the following to the project pom.xml file
                <pre style="border: 1px solid #C4CFE5; background-color: #FBFCFD;">
&lt;repositories&gt;
     &lt;repository&gt;
          &lt;id&gt;vapil&lt;/id&gt;
          &lt;url&gt;https://veeva.github.io/vault-api-library/maven&lt;/url&gt;
          &lt;releases&gt;
               &lt;enabled&gt;true&lt;/enabled&gt;
               &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;
          &lt;/releases&gt;
     &lt;/repository&gt;
&lt;/repositories&gt;
&lt;dependencies&gt;
     &lt;dependency&gt;
          &lt;groupId&gt;com.veeva.vault&lt;/groupId&gt;
          &lt;artifactId&gt;vapil&lt;/artifactId&gt;
          &lt;version&gt;23.2.1&lt;/version&gt;
     &lt;/dependency&gt;
&lt;/dependencies&gt;</pre>
        </li>
        <li>Create a class "HelloWorld" and add the following code
                <pre style="border: 1px solid #C4CFE5; background-color: #FBFCFD;">
public class HelloWorld {
        public static void main(String[] args) {
                // Set the Vault Client Id, which is required for all API calls
                String vaultClientId = "verteobiotech-vault-quality-client-myintegration";
                // Instantiate the VAPIL VaultClient using user name and password authentication
                VaultClient vaultClient = VaultClient
                                .newClientBuilder(VaultClient.AuthenticationType.BASIC)
                                .withVaultDNS("verteobiotech.veevavault.com")
                                .withVaultUsername("username@verteobiotech.com")
                                .withVaultPassword("password")
                                .withVaultClientId(vaultClientId)
                                .build();
                // Perform a VQL query and display the results
                QueryResponse resp = vaultClient.newRequest(QueryRequest.class)
                                .query("SELECT name__v, email__sys FROM user__sys MAXROWS 3");
                if (resp != null) {
                        System.out.println("-----------------------------------------");
                        System.out.println("Response Status = " + resp.getResponseStatus());
                        System.out.println("Total Records = " + resp.getData().size());
                        for (QueryResponse.QueryResult row : resp.getData())
                                System.out.println("Name = " + row.get("name__v") + ", Email = " + row.get("email__sys"));
                }
        }
}
                </pre>
        </li>
        <li>Run the code and verify the results
                <pre style="border: 1px solid #C4CFE5; background-color: #FBFCFD;">
-----------------------------------------
Response Status = SUCCESS
Total Records = 3
Name = System, Email = System
Name = Todd Taylor, Email = todd.taylor@verteobiotech.com
Name = Mark Arnold, Email = mark.arnold@verteobiotech.com
                </pre>
        </li>
        <li>Now that you have a starting point, check out the sample code and go build your interface!</li>
</ol>
<h1>Sample Code</h1>

<b>Instantiate the Vault Client with an Existing Session</b>
<pre style="border: 1px solid #C4CFE5; background-color: #FBFCFD;">
String vaultClientId = "verteobiotech-vault-quality-client-myintegration";

String sessionId = "xxxxxxxxxxxxxxxxx";
VaultClient vaultClient = VaultClient
        .newClientBuilder(VaultClient.AuthenticationType.SESSION_ID)
        .withVaultDNS("verteobiotech.veevavault.com")
        .withVaultSessionId(sessionId)
        .withVaultClientId(vaultClientId)
        .build();
</pre>

<b>Create a Single Document</b>
<pre style="border: 1px solid #C4CFE5; background-color: #FBFCFD;">
Document doc = new Document();

doc.setName("VAPIL Single Document");
doc.setLifecycle("General Lifecycle");
doc.setType("General");
doc.setTitle("Test Upload VAPIL");
doc.set("custom_field__c", "value");

DocumentResponse documentResponse = vaultClient.newRequest(DocumentRequest.class)
        .setInputPath(filePath)
        .createSingleDocument(doc);
</pre>

<b>Bulk Create Multiple Documents from CSV File</b>
<pre style="border: 1px solid #C4CFE5; background-color: #FBFCFD;">
DocumentBulkResponse documentResponse = vaultClient.newRequest(DocumentRequest.class)
        .setInputPath(csvFilePath)
        .createMultipleDocuments();
</pre>

<b>Bulk Update Object Records (Input CSV, JSON Response)</b>
<pre style="border: 1px solid #C4CFE5; background-color: #FBFCFD;">
ObjectRecordBulkResponse objectResponse = vaultClient.newRequest(ObjectRecordRequest.class)
        .setContentTypeCsv()
        .setInputPath(localPath)
        .updateObjectRecords("product__v");
</pre>

<b>Retrieve the Audit Trail for Documents in past 30 days</b>
<pre style="border: 1px solid #C4CFE5; background-color: #FBFCFD;">
DocumentAuditResponse auditResponse = vaultClient.newRequest(LogRequest.class)
                .setStartDateTime(ZonedDateTime.now(ZoneId.of("UTC")).minusDays(29))
                .setEndDateTime(ZonedDateTime.now(ZoneId.of("UTC")).minusDays(1))
                .setLimit(4)
                .retrieveAuditDetails(LogRequest.AuditTrailType.DOCUMENT);

AuditDetailsResponse.ResponseDetails details = auditResponse.getResponseDetails();
System.out.println("Offset = " + details.getOffset());
System.out.println("Limit = " + details.getLimit());
System.out.println("Size = " + details.getSize());
System.out.println("Total = " + details.getTotal());
System.out.println("Object/Name = " + details.getDetailsObject().getName());
System.out.println("Object/Label = " + details.getDetailsObject().getLabel());
System.out.println("Object/Url = " + details.getDetailsObject().getUrl());

System.out.println("Items ****");
for (DocumentAuditResponse.DocumentAudit audit : auditResponse.getData()) {
        System.out.println("\n**** Data Item **** ");
        System.out.println("id = " + audit.getId());
        System.out.println("timestamp = " + audit.getTimestamp());
        System.out.println("UserName = " + audit.getUserName());
        System.out.println("Full Name = " + audit.getFullName());
        System.out.println("Action = " + audit.getAction());
        System.out.println("Item = " + audit.getItem());
        System.out.println("Field Name = " + audit.getFieldName());
        System.out.println("Workflow Name = " + audit.getWorkflowName());
        System.out.println("Task Name = " + audit.getTaskName());
        System.out.println("Signature Meaning = " + audit.getSignatureMeaning());
        System.out.println("View License = " + audit.getViewLicense());
        System.out.println("Job Instance ID = " + audit.getJobInstanceId());
        System.out.println("Doc ID = " + audit.getDocId());
        System.out.println("Version = " + audit.getVersion());
        System.out.println("Document Url = " + audit.getDocumentUrl());
        System.out.println("Event Description = " + audit.getEventDescription());
}
</pre></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2023. All rights reserved.</small></p>
</body>
</html>
